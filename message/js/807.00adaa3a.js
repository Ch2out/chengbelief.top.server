"use strict";(self["webpackChunkmessage_project"]=self["webpackChunkmessage_project"]||[]).push([[807],{8807:function(e,a,t){t.r(a),t.d(a,{default:function(){return n}});var s=function(){var e=this,a=e._self._c;return a("div",{staticClass:"flex-box",staticStyle:{height:"100%"}},[a("el-card",{staticClass:"box-card crd flex-box",staticStyle:{height:"auto"}},[a("el-form",[a("el-form-item",{attrs:{label:"当前邮箱"}},[a("el-input",{attrs:{placeholder:"绑定新邮箱或更换邮箱"},model:{value:e.emailInfo.email,callback:function(a){e.$set(e.emailInfo,"email",a)},expression:"emailInfo.email"}})],1),a("el-form-item",[a("div",{staticClass:"flex-box"},[e._v(" 邮箱验证码："),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"邮箱验证码",disabled:e.emailDisabled},model:{value:e.emailInfo.code,callback:function(a){e.$set(e.emailInfo,"code",a)},expression:"emailInfo.code"}})],1)]),a("el-form-item",{staticClass:"flex-box"},[a("el-button",{attrs:{type:"success"},on:{click:e.sendEmail}},[e._v("发送验证码")])],1),a("el-form-item",{attrs:{"label-width":"0px"}},[a("div",{staticClass:"flex-box",staticStyle:{"justify-content":"space-evenly"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.updateEmail}},[e._v("确定修改")])],1)])],1)],1)],1)},l=[],i=t(3685),o={data(){return{emailInfo:{code:"",email:""},emailPopover:!1,emailDisabled:!0}},methods:{sendEmail(){i.Z.NoAjax("/tool/sendEmailCode",{email:this.emailInfo.email},(e=>{e.success?(this.emailDisabled=!1,this.emailPopover=!0,this.$message(e.message)):("验证码长期有效，无需重复发送"==e.message&&(this.emailDisabled=!1,this.emailPopover=!0),this.$message(e.message))}),!0)},updateEmail(){i.Z.NoAjax("/user/auth/updateUserEmail",this.emailInfo,(e=>{this.$message(e.message),this.$store.dispatch("updatedUser"),this.emailInfo={code:"",email:""}}))}},created(){this.emailInfo.email=this.$store.state.user.tbUserInfo.email}},m=o,c=t(1001),r=(0,c.Z)(m,s,l,!1,null,"004af0d4",null),n=r.exports}}]);
//# sourceMappingURL=807.00adaa3a.js.map