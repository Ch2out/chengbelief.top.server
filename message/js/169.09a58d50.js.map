{"version":3,"file":"js/169.09a58d50.js","mappings":"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","sources":["webpack://message-project/./src/view/user/UserLogin.vue","webpack://message-project/src/view/user/UserLogin.vue","webpack://message-project/./src/view/user/UserLogin.vue?a9ba","webpack://message-project/./src/view/user/UserLogin.vue?d5a1"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"flex-box quan\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"用户登录\")])]),_c('div',[_c('el-form',{ref:\"user\",attrs:{\"rules\":_vm.rules,\"model\":_vm.user,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"登录名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入登录名\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\",\"label\":\"密码\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1),_c('el-form-item',{staticClass:\"flex-box\",attrs:{\"label-width\":\"0px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"登录\")]),_c('el-button',{on:{\"click\":_vm.goReg}},[_vm._v(\"注册\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){_vm.emailPopover = true}}},[_vm._v(\"邮箱找回密码\")]),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.phonePopover = true}}},[_vm._v(\"手机找回密码\")])],1)],1)],1)])],1),_c('el-dialog',{attrs:{\"close-on-click-modal\":false,\"title\":\"根据邮箱找回密码\",\"visible\":_vm.emailPopover},on:{\"update:visible\":function($event){_vm.emailPopover=$event}}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"用户名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入您的用户名称\"},model:{value:(_vm.emailUser.username),callback:function ($$v) {_vm.$set(_vm.emailUser, \"username\", $$v)},expression:\"emailUser.username\"}})],1),_c('el-form-item',[_c('div',{staticClass:\"flex-box\"},[_vm._v(\" 邮箱验证码：\"),_c('el-input',{staticStyle:{\"width\":\"50%\"},attrs:{\"placeholder\":\"输入用户名后获取邮箱验证码\",\"disabled\":_vm.emailDisabled},model:{value:(_vm.emailUser.code),callback:function ($$v) {_vm.$set(_vm.emailUser, \"code\", $$v)},expression:\"emailUser.code\"}}),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.sendEmail}},[_vm._v(\"发送验证码\")])],1)]),_c('el-form-item',{attrs:{\"label\":\"新密码\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入您的新密码\",\"type\":\"password\",\"disabled\":_vm.emailDisabled},model:{value:(_vm.emailUser.password),callback:function ($$v) {_vm.$set(_vm.emailUser, \"password\", $$v)},expression:\"emailUser.password\"}})],1),_c('el-form-item',{staticClass:\"flex-box\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateEmail}},[_vm._v(\"确定修改\")]),_c('el-button',{on:{\"click\":function($event){_vm.emailPopover = false}}},[_vm._v(\"取 消\")])],1)],1)],1),_c('el-dialog',{attrs:{\"close-on-click-modal\":false,\"title\":\"根据手机找回密码\",\"visible\":_vm.phonePopover},on:{\"update:visible\":function($event){_vm.phonePopover=$event}}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"用户名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入您的用户名称\"},model:{value:(_vm.phoneUser.username),callback:function ($$v) {_vm.$set(_vm.phoneUser, \"username\", $$v)},expression:\"phoneUser.username\"}})],1),_c('el-form-item',[_c('div',{staticClass:\"flex-box\",staticStyle:{\"justify-content\":\"space-around\"}},[_vm._v(\" 图片验证码：\"),_c('el-input',{staticStyle:{\"width\":\"50%\"},attrs:{\"placeholder\":\"图片验证码\"},model:{value:(_vm.phoneUser.imageCode),callback:function ($$v) {_vm.$set(_vm.phoneUser, \"imageCode\", $$v)},expression:\"phoneUser.imageCode\"}}),_c('div',{on:{\"click\":_vm.createImg}},[_c('img',{attrs:{\"src\":_vm.img}})])],1)]),_c('el-form-item',[_c('div',{staticClass:\"flex-box\",staticStyle:{\"justify-content\":\"space-around\"}},[_vm._v(\" 手机验证码：\"),_c('el-input',{staticStyle:{\"width\":\"50%\"},attrs:{\"placeholder\":\"输入用户名、图片验证码获取\",\"disabled\":_vm.phoneDisabled},model:{value:(_vm.phoneUser.code),callback:function ($$v) {_vm.$set(_vm.phoneUser, \"code\", $$v)},expression:\"phoneUser.code\"}}),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.sendPhone}},[_vm._v(\"发送验证码\")])],1)]),_c('el-form-item',{attrs:{\"label\":\"新密码\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入您的新密码\",\"type\":\"password\",\"disabled\":_vm.phoneDisabled},model:{value:(_vm.phoneUser.password),callback:function ($$v) {_vm.$set(_vm.phoneUser, \"password\", $$v)},expression:\"phoneUser.password\"}})],1),_c('el-form-item',{staticClass:\"flex-box\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updatePhone}},[_vm._v(\"确定修改\")]),_c('el-button',{on:{\"click\":function($event){_vm.phonePopover = false}}},[_vm._v(\"取 消\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 登录模块 -->\r\n    <div class=\"flex-box quan\">\r\n      <el-card class=\"box-card\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span>用户登录</span>\r\n        </div>\r\n        <div>\r\n          <el-form :rules=\"rules\" ref=\"user\" :model=\"user\" label-width=\"70px\">\r\n            <el-form-item label=\"登录名\" prop=\"username\">\r\n              <el-input\r\n                v-model=\"user.username\"\r\n                placeholder=\"请输入登录名\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"password\" label=\"密码\">\r\n              <el-input\r\n                v-model=\"user.password\"\r\n                placeholder=\"请输入密码\"\r\n                show-password\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item class=\"flex-box\" label-width=\"0px\">\r\n              <el-button type=\"primary\" @click=\"submitForm\">登录</el-button>\r\n              <el-button @click=\"goReg\">注册</el-button>\r\n              <el-button type=\"info\" @click=\"emailPopover = true\"\r\n                >邮箱找回密码</el-button\r\n              >\r\n              <el-button type=\"warning\" @click=\"phonePopover = true\"\r\n                >手机找回密码</el-button\r\n              >\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    <!-- 邮箱弹出框 -->\r\n    <el-dialog\r\n      :close-on-click-modal=\"false\"\r\n      title=\"根据邮箱找回密码\"\r\n      :visible.sync=\"emailPopover\"\r\n    >\r\n      <el-form>\r\n        <el-form-item label=\"用户名称\">\r\n          <el-input\r\n            v-model=\"emailUser.username\"\r\n            placeholder=\"输入您的用户名称\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <div class=\"flex-box\">\r\n            邮箱验证码：<el-input\r\n              style=\"width: 50%\"\r\n              placeholder=\"输入用户名后获取邮箱验证码\"\r\n              :disabled=\"emailDisabled\"\r\n              v-model=\"emailUser.code\"\r\n            ></el-input>\r\n            <el-button type=\"success\" @click=\"sendEmail\">发送验证码</el-button>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"新密码\">\r\n          <el-input\r\n            placeholder=\"输入您的新密码\"\r\n            type=\"password\"\r\n            :disabled=\"emailDisabled\"\r\n            v-model=\"emailUser.password\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item class=\"flex-box\">\r\n          <el-button type=\"primary\" @click=\"updateEmail\">确定修改</el-button>\r\n          <el-button @click=\"emailPopover = false\">取 消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n    <!-- 手机找回密码弹出框 -->\r\n    <el-dialog\r\n      :close-on-click-modal=\"false\"\r\n      title=\"根据手机找回密码\"\r\n      :visible.sync=\"phonePopover\"\r\n    >\r\n      <el-form>\r\n        <el-form-item label=\"用户名称\">\r\n          <el-input\r\n            v-model=\"phoneUser.username\"\r\n            placeholder=\"输入您的用户名称\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <div class=\"flex-box\" style=\"justify-content: space-around\">\r\n            图片验证码：<el-input\r\n              style=\"width: 50%\"\r\n              placeholder=\"图片验证码\"\r\n              v-model=\"phoneUser.imageCode\"\r\n            ></el-input>\r\n            <div @click=\"createImg\">\r\n              <img :src=\"img\" />\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <div class=\"flex-box\" style=\"justify-content: space-around\">\r\n            手机验证码：<el-input\r\n              style=\"width: 50%\"\r\n              placeholder=\"输入用户名、图片验证码获取\"\r\n              :disabled=\"phoneDisabled\"\r\n              v-model=\"phoneUser.code\"\r\n            ></el-input>\r\n            <el-button type=\"success\" @click=\"sendPhone\">发送验证码</el-button>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"新密码\">\r\n          <el-input\r\n            placeholder=\"输入您的新密码\"\r\n            type=\"password\"\r\n            :disabled=\"phoneDisabled\"\r\n            v-model=\"phoneUser.password\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item class=\"flex-box\">\r\n          <el-button type=\"primary\" @click=\"updatePhone\">确定修改</el-button>\r\n          <el-button @click=\"phonePopover = false\">取 消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport tools from '@/js/tools';\r\n// import { delete } from 'vue/types/umd';\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '请输入登录名', trigger: 'blur' }\r\n        ],\r\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\r\n      },\r\n      emailPopover: false,\r\n      emailDisabled: true,\r\n      phoneDisabled: true,\r\n      phonePopover: false,\r\n\r\n      emailUser: {\r\n        username: '',\r\n        password: '',\r\n        code: ''\r\n      },\r\n      phoneUser: {\r\n        username: '',\r\n        password: '',\r\n        code: '',\r\n        imageCode: ''\r\n      },\r\n      // 不是很重要\r\n      img: '',\r\n      formLabelWidth: '120px'\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      let commitUser = JSON.parse(JSON.stringify(this.user));\r\n      commitUser.password = tools.md5(commitUser.password);\r\n      tools.ajax('/user/auth/login', commitUser, (data) => {\r\n        if (data.success) {\r\n          this.$store.dispatch('updatedUser').then(() => {\r\n            this.$router.push({\r\n              path: '/user/main/' + commitUser.username\r\n            });\r\n          });\r\n        }\r\n        this.resetForm('user');\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    goReg() {\r\n      this.$router.push('/user/reg');\r\n    },\r\n    sendEmail() {\r\n      tools.NoAjax(\r\n        '/tool/sendUserEmailCode',\r\n        {\r\n          username: this.emailUser.username\r\n        },\r\n        (data) => {\r\n          if (data.success) {\r\n            this.emailDisabled = false;\r\n            this.emailPopover = ture;\r\n            this.$message(data.message);\r\n          } else {\r\n            if (data.message == '验证码长期有效，无需重复发送') {\r\n              this.emailDisabled = false;\r\n              this.emailPopover = true;\r\n            }\r\n            this.$message(data.message);\r\n          }\r\n        },\r\n        true\r\n      );\r\n    },\r\n    sendPhone() {\r\n      delete this.phoneUser.code;\r\n      delete this.phoneUser.password;\r\n      tools.NoAjax(\r\n        '/tool/sendUserValidateCode',\r\n        this.phoneUser,\r\n        (data) => {\r\n          if (data.success) {\r\n            this.phoneDisabled = false;\r\n            this.phonePopover = true;\r\n            this.$message(data.message);\r\n          } else {\r\n            if (data.message == '验证码长期有效，无需重复发送') {\r\n              this.phoneDisabled = false;\r\n              this.phonePopover = true;\r\n            } else {\r\n              this.phoneUser.imgCode = '';\r\n              this.createImg();\r\n            }\r\n            this.$message(data.message);\r\n          }\r\n        },\r\n        true\r\n      );\r\n    },\r\n    updateEmail() {\r\n      let commitUser = JSON.parse(JSON.stringify(this.emailUser));\r\n      commitUser.password = tools.md5(commitUser.password);\r\n      tools.NoAjax('/user/auth/findPwdByEmail', commitUser, (data) => {\r\n        this.$message(data.message);\r\n      });\r\n      this.emailPopover = false;\r\n      this.emailUser = {\r\n        username: '',\r\n        password: ''\r\n      };\r\n    },\r\n    updatePhone() {\r\n      delete this.phoneUser.imageCode;\r\n      let commitUser = JSON.parse(JSON.stringify(this.phoneUser));\r\n      commitUser.password = tools.md5(commitUser.password);\r\n      tools.NoAjax('/user/auth/findPwdByPhone', commitUser, (data) => {\r\n        this.$message(data.message);\r\n      });\r\n      this.phonePopover = false;\r\n      this.phoneUser = {\r\n        username: '',\r\n        password: '',\r\n        code: '',\r\n        imageCode: ''\r\n      };\r\n    },\r\n    createImg() {\r\n      tools.NoAjax('/tool/getImageCode', {}, (data) => {\r\n        this.img = data.message;\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.createImg();\r\n  }\r\n};\r\n</script>\r\n\r\n<style socep>\r\n.box-card {\r\n  min-width: 35rem;\r\n  height: 20rem;\r\n}\r\n.box-card {\r\n  min-height: 16rem;\r\n}\r\n.el-form-item {\r\n  margin-bottom: 2rem;\r\n}\r\n.flex-box button {\r\n  margin: 0 1rem;\r\n}\r\n.el-dialog {\r\n  width: 30%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserLogin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLogin.vue?vue&type=template&id=aa9cf660&\"\nimport script from \"./UserLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserLogin.vue?vue&type=style&index=0&id=aa9cf660&prod&socep=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","ref","rules","user","model","value","username","callback","$$v","$set","expression","password","on","submitForm","goReg","$event","emailPopover","phonePopover","emailUser","staticStyle","emailDisabled","code","sendEmail","updateEmail","phoneUser","imageCode","createImg","img","phoneDisabled","sendPhone","updatePhone","staticRenderFns","data","required","message","trigger","formLabelWidth","methods","commitUser","tools","path","resetForm","created","component"],"sourceRoot":""}