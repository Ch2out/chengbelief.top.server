(function(){var e={3685:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});r(7658);var n=r(7335),o=r.n(n);let a={serverTokenKey:"teach_project_service_token",serverUrl:"https://huhuiyu.top/teach_project_service",notUrl:"https://huhuiyu.top/teach_project_service",websocketUrl:"wss://huhuiyu.top/teach_project_service/ws/",saveToken:e=>{e.data&&e.data.token&&localStorage.setItem(a.serverTokenKey,e.data.token)},loadToken:()=>{let e=localStorage.getItem(a.serverTokenKey);return e||""}};var s=a,i=r(8499);let u="production",l={debug(){"development"===u&&console.log.apply(this,arguments)},info(){console.info.apply(this,arguments)},error(){console.error.apply(this,arguments)}};var c=l,d=r(5410),f=r.n(d),p=r(4311),g=r(7716);let m={isLogin:(e,t)=>t?e.$store.state.user.tbUser.username===t:!!e.$store.state.user.username,formatDate:(e,t)=>{try{if(t=t||"yyyy-MM-dd hh:mm:ss",!isNaN(e)&&!(e instanceof Date)){let t=new Date;t.setTime(parseInt(e)),e=t}let r=e.getFullYear()+"",n=e.getMonth()+1,o=e.getDate(),a=e.getHours(),s=e.getMinutes(),i=e.getSeconds();return n=n<10?"0"+n:""+n,o=o<10?"0"+o:""+o,a=a<10?"0"+a:""+a,s=s<10?"0"+s:""+s,i=i<10?"0"+i:""+i,t=t.replace("yyyy",r),t=t.replace("MM",n),t=t.replace("dd",o),t=t.replace("hh",a),t=t.replace("mm",s),t=t.replace("ss",i),t=t.replace("ms",e.getMilliseconds()),t}catch(r){return c.error(r),""}},SEX_LIST:[{value:"m",text:"男生"},{value:"f",text:"女生"}],isMobile:()=>m.getBrowserInfo().versions.mobile,isIos:()=>m.getBrowserInfo().versions.ios,isAndroid:()=>m.getBrowserInfo().versions.android,isWx:()=>m.getBrowserInfo().versions.weixin,getBrowserInfo:()=>{let e={versions:(()=>{let e=navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,qq:" qq"==e.match(/\sQQ/i)}})(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};return e},concatJson:(...e)=>{c.debug("json参数列表：",e);let t={};return e.forEach((e=>{for(const r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=JSON.parse(JSON.stringify(e[r])))})),t}};const h={key:"color: red",string:"color: fuchsia",number:"color: green",boolean:"color: maroon",other:"color: maroon"};m.formatJson=(e,t)=>{const r=JSON.stringify(e,void 0,4);return t?m.jsonSyntaxHighlight(r):r},m.jsonSyntaxHighlight=e=>(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(e){let t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="other"),'<span style="'+h[t]+'">'+e+"</span>"})),e),m.getFileSuffix=e=>{let t=e.lastIndexOf("."),r="";return-1!=t&&(r=e.substring(t)),r},m.getFileType=e=>{let t=e.indexOf("/");return t>-1?e.substring(0,t):e},m.openFile=(e,t)=>{let r={el:null,file:null,type:""},n=document.createElement("input");n.setAttribute("type","file"),r.el=n,n.addEventListener("change",(()=>{if(c.debug("文件选中变化",n.files),n.files&&1==n.files.length)return r.file=n.files[0],r.type=m.getFileType(r.file.type),r.suffix=m.getFileSuffix(r.file.name),void e.call(t,r);e.call(t,null)})),n.click()},m.getFileInfo=e=>({suffix:m.getFileSuffix(e.name),size:e.size,type:e.type,origSize:e.origSize,name:e.name}),m.copyText=async e=>{try{return await navigator.clipboard.writeText(e),void c.debug("剪贴板复制文本成功")}catch(r){c.debug("剪贴板复制文本失败: ",r)}let t=document.createElement("input");t.readOnly="readonly",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length),document.execCommand("Copy"),document.body.removeChild(t),c.debug("原始api复制文本成功")},m.regValidate=(e,t,r,n,o)=>{c.debug(e),n.test(t)?r():r(new Error(o))},m.md5=e=>e&&""!=e.trim()?o().hash(e):"",m.serverInfo=s,m.empty=()=>{},p.Z.interceptors.request.use((e=>{let t=e.headers?e.headers:{};return t.token=s.loadToken(),e.headers=t,e})),p.Z.interceptors.response.use((e=>(s.saveToken(e),e)),(e=>(c.debug("应答错误信息：",e),Promise.reject(e)))),m.ajax=(e,t,r,n,o,a)=>{t=f().stringify(t,{allowDots:!0});let u=e.indexOf("?")>-1?"&":"?";"get"==o&&(e=e+u+t,t=""),e=s.serverUrl+e,r=r||m.empty,o=o||"post";let l=(0,p.Z)({url:e,data:t,method:o});if(a)return l;l.then((e=>{if(e.data&&e.data.code&&1e3==e.data.code)return store.commit("removeLoginInfo"),void(0,i.MessageBox)({type:"error",message:e.data.message,title:"教学管理系统",callback:()=>{g.Z.push("/login")}});e.data.success||n?r(e.data):(0,i.MessageBox)({type:"error",message:e.data.message,title:"教学管理系统"})})).catch((e=>{c.debug("ajax请求错误：",e),n?(c.debug("自己处理错误结果"),r({code:500,success:!1,message:"访问数据失败！",error:e})):(0,i.MessageBox)({type:"error",message:"访问数据失败："+e,title:"教学管理系统"})}))},m.NoAjax=(e,t,r,n,o,a)=>{t=f().stringify(t,{allowDots:!0});let u=e.indexOf("?")>-1?"&":"?";"get"==o&&(e=e+u+t,t=""),e=s.serverUrl+e,r=r||m.empty,o=o||"post";let l=(0,p.Z)({url:e,data:t,method:o});if(a)return l;l.then((e=>{if(e.data&&e.data.code&&1e3==e.data.code)return store.commit("removeLoginInfo"),void(0,i.MessageBox)({type:"error",message:e.data.message,title:"教学管理系统",callback:()=>{g.Z.push("/login")}});e.data.success||n?r(e.data):(0,i.MessageBox)({type:"error",message:e.data.message,title:"教学管理系统"})})).catch((e=>{c.debug("ajax请求错误：",e),n?(c.debug("自己处理错误结果"),r({code:500,success:!1,message:"访问数据失败！",error:e})):(0,i.MessageBox)({type:"error",message:"访问数据失败："+e,title:"教学管理系统"})}))};const v=p.Z.create();m.upload=(e,t,r,n)=>{e=s.serverUrl+e,n=n||function(){};let o=new FormData;o.append("file",r);for(let s in t)o.append(s,t[s]);let a=v({method:"post",url:e,data:o,headers:{token:s.loadToken(),"Content-Type":"multipart/form-data"}});a.then((e=>{s.saveToken(e.data),n(e.data)})).catch((e=>{n({code:500,success:!1,message:"访问数据失败！",error:e})}))},m.getDownloadUrl=e=>s.serverUrl+"/user/file/download?fid="+e;new Map;var b=m},5270:function(e,t,r){"use strict";var n=r(6369),o=function(){var e=this,t=e._self._c;return t("div",[t("router-view")],1)},a=[],s=r(1001),i={},u=(0,s.Z)(i,o,a,!1,null,null,null),l=u.exports,c=r(7716),d=r(8499),f=r.n(d),p=r(4239);n["default"].config.productionTip=!1,n["default"].use(f()),new n["default"]({beforeCreate(){n["default"].prototype.$bus=this},store:p.Z,router:c.Z,render:e=>e(l)}).$mount("#app")},7716:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});r(7658);var n=function(){var e=this,t=e._self._c;return t("div",[e._v("留言板")])},o=[],a={},s=a,i=r(1001),u=(0,i.Z)(s,n,o,!1,null,null,null),l=u.exports,c={routers:[{path:"/user/login",name:"userLogin",component:()=>r.e(169).then(r.bind(r,6169))},{path:"/user/reg",name:"userReg",component:()=>r.e(412).then(r.bind(r,1412))},{path:"/user/main/:username",name:"userMain",component:()=>r.e(8).then(r.bind(r,3008)),children:[{path:"userInfo",name:"userMainInfo",component:()=>r.e(803).then(r.bind(r,1803))},{path:"password",name:"userMainPasswordUpdate",component:()=>r.e(403).then(r.bind(r,8403)),meta:{isAuth:!0}},{path:"update",name:"userMainUpdate",component:()=>r.e(821).then(r.bind(r,821)),meta:{isAuth:!0}},{path:"phone",name:"userPhoneUpdate",component:()=>r.e(513).then(r.bind(r,6513)),meta:{isAuth:!0}},{path:"email",name:"userEmailUpdate",component:()=>r.e(807).then(r.bind(r,8807)),meta:{isAuth:!0}}]}]},d=r(2631),f=r(6369),p=r(4239);f["default"].use(d.ZP);const g=[{path:"/",name:"MainView",component:l}].concat(c.routers),m=d.ZP.prototype.push;d.ZP.prototype.push=function(e){return m.call(this,e).catch((e=>e))};const h=new d.ZP({routes:g,mode:"history",base:"/message/"});h.beforeEach(((e,t,r)=>{e.meta.isAuth?p.Z.state.isLogin?r():(alert("暂无权限查看,请先登录"),h.push("/user/login")):r()}));var v=h},4239:function(e,t,r){"use strict";var n=r(3685),o=r(6369),a=r(3822);o["default"].use(a.ZP);const s="user_token_data",i="user_login";function u(){let e=localStorage.getItem(s);return e?JSON.parse(e):{}}function l(){let e=localStorage.getItem(i);return e||!1}function c(){localStorage.removeItem(s),localStorage.setItem(i,!1)}function d(e){localStorage.setItem(s,JSON.stringify(e)),localStorage.setItem(i,!0)}const f={updatedUser(e){return new Promise(((t,r)=>{try{n.Z.ajax("/user/auth/getUserInfo",{},(r=>{r.success?e.commit("loginUser",r):e.commit("logoutUser"),t()}),!0)}catch(o){r(o)}}))}},p={loginUser(e,t){e.user.tbUser=t.tbUser,e.user.tbUserInfo=t.tbUserInfo,e.user.userOtherInfo=t.userOtherInfo,d(e.user)},logoutUser(){c(),g.user=u()}},g={user:u(),isLogin:l()};t["Z"]=new a.ZP.Store({actions:f,mutations:p,state:g})},4654:function(){}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,a){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],a=e[c][2];for(var i=!0,u=0;u<n.length;u++)(!1&a||s>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(i=!1,a<s&&(s=a));if(i){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{8:"07216d21",169:"09a58d50",403:"824d5c3e",412:"3102e006",513:"e37d9490",803:"15d5fecc",807:"00adaa3a",821:"5c345a79"}[e]+".js"}}(),function(){r.miniCssF=function(e){return"css/"+e+"."+{8:"022cc721",169:"6bbb2aa1",403:"b50c1e83",412:"164bc6f6",513:"ef7ba03c",807:"c7021804",821:"8f119a33"}[e]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="message-project:";r.l=function(n,o,a,s){if(e[n])e[n].push(o);else{var i,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[o];var f=function(t,r){i.onerror=i.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/message/"}(),function(){var e=function(e,t,r,n){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var a=function(a){if(o.onerror=o.onload=null,"load"===a.type)r();else{var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=i,o.parentNode.removeChild(o),n(u)}};return o.onerror=o.onload=a,o.href=t,document.head.appendChild(o),o},t=function(e,t){for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=r[n],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===e||a===t))return o}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){o=s[n],a=o.getAttribute("data-href");if(a===e||a===t)return o}},n=function(n){return new Promise((function(o,a){var s=r.miniCssF(n),i=r.p+s;if(t(s,i))return o();e(n,i,o,a)}))},o={143:0};r.f.miniCss=function(e,t){var r={8:1,169:1,403:1,412:1,513:1,807:1,821:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=n(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}(),function(){var e={143:0};r.f.j=function(t,n){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(r,n){o=e[t]=[r,n]}));n.push(o[2]=a);var s=r.p+r.u(t),i=new Error,u=function(n){if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,o[1](i)}};r.l(s,u,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,s=n[0],i=n[1],u=n[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(u)var c=u(r)}for(t&&t(n);l<s.length;l++)a=s[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=self["webpackChunkmessage_project"]=self["webpackChunkmessage_project"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(5270)}));n=r.O(n)})();
//# sourceMappingURL=app.677613e8.js.map